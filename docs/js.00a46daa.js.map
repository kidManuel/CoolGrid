{"version":3,"sources":["js/state.js","js/module.js","js/line.js","js/const.js","js/cssHandler.js","js/mathUtil.js","js/index.js"],"names":["state","rowsAmmount","columnsAmmount","centerTolerance","minSpeed","maxSpeed","containerHeight","containerWidth","containerRatio","moduleSize","center","X","Y","maxPossibleDistance","Infinity","shouldAnimate","force","prevForce","modules","x","y","allModules","hash","getNewHash","module","isGhost","content","getHorizontalSpeed","getVerticalSpeed","number","id","top","left","linkedTo","domElement","createDomElement","setAsGhost","offset","null","frameMovementVector","position","ammount","setForce","absoluteAmmount","Math","min","abs","signedAmmount","sign","calculateCurrentFrameOffset","axis","forceAmmount","isVert","linkTo","classList","toggle","newElement","document","createElement","className","getStringContent","resetMovementVector","getContent","line","data","contents","ghost","speed","element","operation","newPosition","resetElement","isCurrentMovementPositive","splice","unshift","push","forEach","singleModule","order","elementToLink","getLast","getFirst","linkGhostToElement","length","container","getElementById","modulePositions","body","getElementsByTagName","devModeToggle","quadrants","bot","right","positions","horizontalIdentity","inverseAxis","verticalIdentity","forces","quadrantName","direction","inverse","message","cssHandler","modulesList","frameCss","moduleCss","textContent","getModuleCss","getStyleString","applyCssToDom","resetFrameCss","pyth","a","b","sqrt","pow","distance","x1","y1","x2","y2","map","n","start1","stop1","start2","stop2","withinBounds","newval","constrain","low","high","max","constants","setup","reduce","acc","curr","floor","offsetHeight","console","log","style","height","width","baseCss","nullForce","prepModules","getAllCss","setListeners","i","currentHorizontalLine","e","currentVerticalLine","getSpeed","bind","appendChild","newGhost","toggleDevMode","checked","addEventListener","inBounds","changeQuadrant","event","clientX","clientY","calculateQuadrant","calculateLinesSpeed","newQuad","currentQuad","calculateOffset","mouseX","mouseY","getBoundingClientRect","containerX","containerY","localX","localY","linesToCalc","currentDistanceToCenter","RatioFixedDistanceToCenter","distanceToCenterModifier","singleLine","round","offsetLeft","offsetTop","animationFrame","setNewPositions","requestAnimationFrame","setModulePosition","setGhostPosition","bottom","getBottom","getRight","outstandingAmmount","compileFrameMovementVector","shiftElement","getLine","shiftedElement","shiftLine","inverseContainer","lines","currentLine","moduleToCheck","negative","positive","containerSize","possibleValues","sort","applyOffset","window"],"mappings":";;AMAA;;AACA;;AACA,ANFA,IAAIA,KAAK,GAAG;AIAZ,AFAA,AGAO,AJAP,ADCIC,EAAAA,EKDS8G,IAAI,GAAG,ELCL,EAAE,CADL,IKACA,IAAO,CAACC,CAAD,EAAIC,CAAJ;ACGpB,ADHoB,ALEhB/G,EAAAA,OKF0B0C,IAAI,CAACsE,ELEjB,EKFY,ALEV,CKFoBtE,ALA5B,IKAgC,CAACuE,GAAL,CAASH,CAAT,EAAY,CAAZ,IAAiBpE,IAAI,CAACuE,GAAL,CAASF,CAAT,EAAY,CAAZ,CAA3B,CAAV;ADCpB,ACDoB,ALIhB9G,CKJG,CLIHA,eAAe,EAAE,GAJT;AMIZ,ANGIC,EAAAA,QAAQ,EAAE,CAPF;AAQRC,EAAAA,QAAQ,EAAE,EARF;AMKZ,ANMIC,EAAAA,eAAe,EAAE,CAXT;AKCL,ALWHC,EAAAA,EKXS6G,QAAQ,GAAG,CLWN,EAAE,CAZR,KKCCA,QAAW,CAACC,EAAD,EAAKC,EAAL,EAASC,EAAT,EAAaC,EAAb;AAAA,ALYpBhH,EAAAA,OKZwCuG,IAAI,CAACM,EAAE,ALYjC,EAAE,CKZkCE,ALD1C,EKCoC,EAAUD,EAAE,GAAGE,EAAf,CAAxB;AFDjB,AECiB,ALapB/G,CKbG,CLaHA,CKXJ,CFHa2E,ADEQrB,QFYP,CGdQ,CHcN,CAdJ,CGAaN,QAAQ,CAAC4B,cAAT,CAAwB,iBAAxB,CAAlB;AEIP,ALWI3E,EAAAA,MAAM,EAAE;AGdL,AFCP,ADcQC,IGfK2E,ACEPgB,AHDFhF,ADcIX,CAAC,EAAE,CCdH,GAAG,ADaC,CCbZ,OED4B,GAAG8C,QAAQ,CAAC4B,cAAT,CAAwB,iBAAxB,CAAxB;ADEH,AFcIzE,IAAAA,CAAC,EAAE,SEdKoD,IAAZ,EAAkBnC,MAAlB,EAA0B;ACDvB,ADCuB,ADA9B,ADYY,GAfA,CGEC0D,AFCPhE,IEDW,GAAGkC,GFCJ,GAAG,EEDS,CAAC+B,MFCvBjE,UAAa,IEDC,CAA8B,MAA9B,EAAsC,CAAtC,CAAb;ACEH,AHDe,ADgBfV,EAAAA,EMXA0E,KLLqBjE,EKarB+G,ELbyB,EAAV,MKKf9C,ANWmB,EAAEzE,CIfP,OJJN;AGGL,ACCW,AFAV,AGED,AJHY,ADiBfC,CCjBJ,CDiBIA,EGjBS0E,AGMTA,ADHSgC,GAAG,EHFHzD,CGEM,GHFX,EFgBS,CEhBGA,CCDM,AHiBP,EKdNyD,CFHgBhE,AGazB4E,AJZI,EGEW,ALNP,CKMQX,CAAD,EAAIC,EFHc,CAACtC,CGMlCI,EDHe,EAAYmC,KAAZ,EAAmBC,EFHT,CAAwB,GEGlC,EAA2BC,KAA3B,EAAkCC,GFHxB,CAAtB,QEGY,EAAmD;AHD9D,AGEJ,ALcA/G,EAAAA,EMXAoE,EDHM4C,CLcD,EEhBInG,AFgBF,EArBC,CKOI,GHFR,AGEW,CCSfwG,ADTgBX,CAAC,CHFC7F,EGEE8F,IHFhB,EIKJvC,ADHe,KAAgBwC,KAAK,GAAGD,MAAxB,KAAmCG,KAAK,GAAGD,MAA3C,IAAqDA,MAApE;AFFG,ACAC,AFCA,AFgBJ5G,EAAAA,EGjBSyE,AGMTA,ALNiBlE,KGAR+E,AFCAtC,EFgBA,EGjBS,AHiBP,EAtBH,CGKa,AGWrBoE,CJVI,GEDA,AFCgB,EAAhB,CEDmB,EAAnB,CEMJ3C;AHLAC,ACAI,AFCA,AGEJ,ALcAzE,EGjBAyE,AHiBAzE,EMXA+E,CHNG,CEGC,CFHC,AEGA8B,EDHIvB,AFCAtC,AFgBF,EAAE,EMPTmE,CJTI,CCFiB,ECCjB,AFCa,EGEjB,CDHoB,CFChB,AGEe,CDHf,CEMJpC;AHLAlE,ACAC,AFCG,AGEA,ALcAZ,EGjBJY,EGMA+D,ANWI3E,CGjBD,AHiBE,EGjBA,AHiBE,EEhBEgD,AFeA,EKbE6D,CFLU,EDGjB,GAAa,AGEb,CHFA,OIQJK,UAHAvC;AHLA9D,ADCC,AGEA,AJLD,ADmBIZ,EGjBJY,EGMAgE,ANWI5E,CAAC,CGjBD,CHiBG,CGjBD,MAHe,IFCTD,CAAZ,EAAeC,CAAf,CKUAiH,CLVkF,SKQlFrC;AHLAJ,AFHkF,ADiBzE,EGdTA,CHTQ,CMeRS,GHNK,CFHa5E,CEGX,KGOP4G,CLVkF,SKSlFhC,8DLT4B,KAAsD;AED7D,AEQrB,AJPkF,ADqBlFhF,CGtBG,CHsBHA,IKdIwG,EJP+BnG,IIOzB,ALcA,EAAE,CKdCoG,AJPqE,KIOlF,EAAoB;ACKxB,ADJQ,AJR8E,ADN1E,CAAZ,OCMgDnG,CKYvC2G,EDJML,GCIf,GAAiB,GDJO,CAACD,KJR6D,CIQ9D,EAASH,IDLhBpB,ECKO,EAAiBqB,KAAjB,CAAhB,CDLoB;ADGrB,ACFC,AESJ9H,ADJC,AJTiF,GIOlF,CFDS6F,IFNuDjE,CISzD,EDLE4E,EDES,EGOZvG,CHPe,GCFjB,IAAiBwG,CHJ6D,EKalF,GAAoBJ,GFThB,IESuB,CAAClB,EJRTf,IIQnB,KJR4B;ACE5BpC,ACFC,AESDhC,AJT4B,AGKxB,EFHJgC,IAAI,EAAE,EDDMkC,CGID+D,GFJU,CGQf/H,AJTsB,GACN,EGIF,CAAC8H,CHLO,CAChB9D,IGIQ,CHLQ,CIS5B,ADJ6B4D,GCINzB,EDJH,EAAgBwB,GCIN,CAACU,EDJX,CAAhB,GCImB,CAAe,UAACC,GAAD,EAAMC,IAAN;AHNtC1G,AGMsC,AJPlCmC,AGIH,AJXiF,EEQlFnC,GAAG,CDDCmC,CCCC,IGMgDtB,AJP5C,CAACX,GIO+C,CAACmG,GAAL,CAASI,AJP1D,GIO6D,AJP5CpE,CIO6Ce,MAAJ,AJP1D,IIOwEqD,GAAvB,EAA4BC,IAAI,CAACtD,MAAL,IAAesD,IAA3C,CAAf;AHRjB,AGQiB,AJNrC,AGIJ,CFNM,AENA,ECcoB,CAAvB;AACAzI,ALfkF,QACxES,OKcJH,GLf4E,GACzDN,SKczB,GAAwB4C,ALf0D,CACxEnC,EGMM,CEQY,CAACiI,KAAL,CAAWtD,ALf+C,SKetC,CAACuD,YAAV,GAAyB3I,aAAMC,WAA1C,IAAyDD,aAAMC,WAAvF;AHJG,ACHC,AEQJD,ALdI,IESK8F,KFTA3E,CAAL,CGMKqF,EHNIrF,CAAT,CKcEV,IFRF,GDGuB,ACHP,EAAhB,CDG0B,AGK9B,GAAmBT,aAAMM,eAAN,GAAwBN,aAAMC,WAAjD;AHJAiD,ACHC,AEQDlD,ALdI,EESJkD,IAAI,EAAE,CFTG9B,CAAL,CEQ0B,EFRjBA,CAAT,CKcEb,cAAN,GAAuBP,OJPJ,MIOUE,cAAN,GAAuBF,aAAMS,UAApD;AHJA2C,AGMApD,AJTmB,AGIhB,AJVC,EESJoD,EECS6E,IFDH,CFTGpG,CESD,ADFIqC,GGGM,EFHY,AGQxBxD,AJTa,ADNf,CIUiB,EHHC,ADPJa,GKelB,CAAaZ,AJTM,CISnB,AJRYuD,EGGH+D,CCKQjI,EJTE,ADNS,EAAxB,IIUiB,CAAC0H,CAAD,EAAIQ,CCKF3H,EDLF,EAAS4H,IAAT,MCKJ,GAAuB,CAAxC;AHLA3F,AGMAxC,AJVmB,AGIE,AJTjB,EESJwC,OEAuCI,AJT9Bd,CESD,ADFIG,CDPR,CESM,CEAiC,CAACmG,CCMtC1H,EDNiC,CFHT,ADDX,AGI6BkC,GCMhD,AJRyBsB,CIQZtD,ADNuC,CCMpD,ADNqDiC,EJTnC,CKeD7C,AJVE,AGI6B,CHFpCiC,AGE6CyF,CAAT,EAAYS,AJTrChH,CAAnB,GIS4C,CHJ7B,AGIoB,EHAnC,AGA+D+G,ECM5C5H,CDNgB,CAAlB,IJTO,KAAKc,CAA7B,GKea,GAAwB,CAAzC,ELfqCK,OAAO,GAAG,GAAH,GAAS,EAAjD;AEUJsE,AGOA/F,AJPI,AGDiB,AJRjB,CIQD,CFCH+F,OFTShE,GAAL,CESO,EAAE,AGOPlB,ALhBSO,CAAC,GAAGX,UAAf,KKgBJ,EFXgB,CEWY,oBAAKT,aAAMU,MAAN,CAAaC,CAAlB,EAAqBX,aAAMU,MAAN,CAAaE,CAAlC,CAA5B;AHX8B,ACC1B0E,AEWJsD,ALhBI,CEID,CGYHA,OAAO,ALhBE5G,CKgBD6G,GAAR,ALhBI,CKgBQ7I,ELhBImB,CAAC,GAAGV,OKgBFI,EFXE6F,CHLhB,UGKA,GAA8B,GEWlC,EFXuCF,AEWA,QFXnC,eEWJ;AFVC,AEYDxG,AJTI,ADRA,SAAKiC,CCQD,KISFzB,AJTOwD,EDRT,ECQI,CAAUZ,ADRE,IAAhB,ECQA,EAAsB,CIS1B,GAAuBpD,aAAMM,eAAN,GAAwBN,aAAMO,cAArD;AHPG,AGQH6E,AJV0B,ADPtB,EKiBJA,EHRSY,KFTA9D,EKiBA,CAAC4G,AJTM/G,GADU,EIU1B,CAAgBgH,AJT6B9G,CDRzC,CESqB,EFTH,CESM,CGQ5B,EJV0B,CACVF,ADRWI,GCOD,OIUEnC,MLjBN,EAAlB,KKiB8BM,eAAlC;AHPA4C,AGQAkC,AJX0B,ADNtB,EESJlC,AGQAkC,IHRI,EAAE,CFTGhD,EEQmB,AGSnB,CAAC0G,AJVWvG,KIUrB,CAAgByG,CLjBZ,CAAgBvH,GKiBpB,ILjBI,ICMsB,GACmBQ,EIUlBjC,MJXD,CACLuC,MIUYhC,aJXP,CIW1B;AHPA6C,AGRa,AJIa,ADLtB,EESJA,IGSQ3C,EHTF,CFTG4B,CESD,EDFQ/B,ECAY,CFPxB,CKCS,ELDK,CKkBKN,QJbG,GAEUA,CINvB,CFGD,AEcJS,UAjBK,AJIa,CAEVH,eAFU,EAIlB;ACCRkC,ACNY,AEeZ,AJTQ,ADTAT,EESRS,IGSMyG,ALlBElH,GAAG,CESH,CFTK,CESH,AFVQ,CKmBL,IHZe,yCGcftB,UAFA,kCAGCA,UAHD,iEAMIA,UANJ,qBAAb;AHRAsF,AGiBAtC,AL1BQzB,EESR+D,AGiBAtC,IL1BQzB,IK0BA,AL1BI,CK0BHqD,CL1BK,CESH,AFXO,EEWL,UGiBb,CAAwB,SAAxB,EAAmCqB,WAAnC,GAAiDuC,OAAjD;AHrB4B,ACFxBjJ,AEyBJA,AJnBQ,ADRAsC,CEIL,KFJKA,IAAI,ECQE+B,ADRA,GK2BRrD,IFzBIK,CEyBV,CJnBuB,EImBT4E,CJnBarD,IAAI,CEN3B,AEyBgB,AJnBYI,CENX4B,AEyBAsE,GJnBM,CAAUnH,GENjC,AFMuB,CENE,CEyB7B,EJnB4C,CAAC,CAAnB,IAAyB,CENrB8C,AFMtB,CANkB,CAQlB,UERqB,EAAkB;AACvC,AEyBR7E,AL/BkB,KAAd,GGMI,KAAI,CAAC2G,CEyBP1F,SAAN,EFzBQ,CAAkB4D,AEyBRoB,MAAM,CAACiD,KFzBa,CAACtC,GEyBvC,WFzB0B,EAAlB;ADQL,ACPE,AE0BLuC,AJnBQ,ADTJ,EK4BJA,EHnBSlD,GCTL,EHAK1D,CESM,EDAD+B,CImBH,UJnBc,GAAGvC,EDTxB,CCS2B,EDTA,CCSIzB,eAAe,GAAG+D,GCCpDqB,MDD2B,GCClB,ADDwDnD,CCCvDoD,GADI,eDAsE,CAAC5D,GAA9E;ACEJmE,ADDIhC,ADTAnC,EEUJmE,IFVInE,ECSAmC,CDTG,EAAE,CADkB,CCUlB,CCCG,ADDFnC,ECCI2D,CDDV,GAAYpB,KCCO,CAACqB,KDDpB;ACDO,ACNX,AE0BJW,AJlBQpC,ADTAlC,GEUDgE,GFVChE,ECSAkC,EDTI,CGCH2C,CHDK,CCSD,CAAC7E,IAAN,CCFO,EDEMkC,CIkBVkF,EF1BP,EFQsB,CAACnH,IIkB3B,IJlBqB,CAAeD,IAAf,GAAsBO,mBAAmB,CAACP,IAAvD;ACEJmE,ACTA,AFQC,ADZ0B,EEa3BA,GFbA,ECAA,ICaS,ACTJW,EDSM,ADDJ,WERP;ADKW,ACJd,AEyBDuC,AJlBW,ADRP,EK0BJA,OL1BS3H,KK0BG,EL1BR,GAAeA,OAAf,IEWHgE,ADF6CxB,KAAK,CAACjC,GCE1C,CAACF,GANI,CDGJ;ACIPmE,AGeP,AJnBc,ADPP,EEWAA,OFXKvE,GCQOK,ECGA,EAAE0D,ADJP,SCIgB,CAAC3D,CFXxB,GAA0BJ,KCQdK,IADL,SDPP;AEIW,ADGJ,ADNP,GEWGgE,MFXEpE,GCOaW,OCJP,MFHX,GAAwBX,ICMjB,YDNP,OCOkBW,mBADX;ACMP4D,AGeR,AJrBe,ADLV,EEWGA,OGeCgD,EHfQ,CDJG5I,CCID,CAAC,MGepB,GAAuB,GJrBR,GAEwBP,YAFxB,CAEKO,cAFL;ACHI,AGyBf,8BHdCmF,SAAS,CAAC1D,IAXI;AAYXkE,AGcJ,AJpBQ,ECMJA,KGcC,IAAIoD,CAAC,AJpBEjF,ECMI,CGcH,CHdKqB,AGclB,EAAgB4D,CAAC,GAAGtJ,AJpBC,GCMM,ADNF4C,CCMGZ,GDNC,CAACgB,IAAL,CIoBC/C,AJpBS+B,IAAV,IAAkB,CAAC,CAApB,CIoBxB,EAAuCsH,CAAC,AJpBU,CAA1C,CIoBR,EAA4C;AH1B7B,AG2BX,GHdGxD,KGcGyD,OF5BC,IAAIjD,EDCA,QCDJ,AE4BoB,GAAG,IAAIvC,cAAJ,CAAS+B,kBAAT,EAA6BwD,CAA7B,CAA9B;AHbAnD,ADPI,ECOJA,SAAS,CDPC7B,CCOC,CAAC,UDPS,GAAGtC,IAAI,ADPrB,GCOyBzB,cAAc,GAAG8D,UAAzB,GAAsC9B,oBAAmB,CAACP,IAA9E;ACPO,AG4BXhC,AL5BO,UACDS,OK2BAS,GL5BC,GACclB,CK2BrB,CAAcmB,CAAd,CAAgBwD,GHZnBe,CGYG,CAAqB6D,GL5Bd,CACD9I,GEeA,CAACmF,KAhBI,CFAJ,OK4BP;AHXAM,ADTIhC,ADNJ,EEeAgC,MDTIhC,KAAK,ADNF,CEeK,ADTFlC,ECSI0D,EDTV,ADNQ1D,GCMKsC,CDNV,GEegB,AFfJ7D,CEeKmF,ODTpB,EDNJ;AEFW,AG8BX,AJrBI1B,ADNP,GEeM4B,KDTC5B,CIqBC,IAAIsF,AJrBA,CIqBC,AJrBAzH,GIqBG,AJrBT,CIqBJ,EAAgByH,AJrBAtF,CCTL,AG8BM,GAAGlE,CJrBC,CAACiC,QAAN,CAAeF,EIqBL7B,CJrBV,GAAqBqC,UIqBrC,EAA0CiH,CAAC,EAA3C,EAA+C,GJrBS,CAACzH,GAArD;ACUJoE,AGaI,AJrBH,ECQDA,QGaQmD,CHbC,AGaA,EHbE,GGaG,CAAV,EAAa;AHhCN,AGiCHtJ,qBAAMkB,OAAN,CAAcE,CAAd,CAAgBuD,IAAhB,CAAqB,IAAIZ,GHZ1B,WGYsB,CAASiC,gBAAT,EAA2BwD,CAA3B,CAArB;AHXRtD,AGYK,AJtBLhC,ECUAgC,IDVAhC,KAAK,CAACxC,ECUM,EAAE,GDVd,GAAgBO,KCST,GDTiB,CAACP,CDPjB,MCOR;ACWAwB,ADVH,ADRW,EEkBRA,IAAI,EAAE,EFjBAzC,EEeC,QFhBC,GACaT,YADb,CACFS,UADE;AEmBR2C,AGWI,AL5BJ,EEiBAA,MAAM,EAAE,AGWEqG,GL5BH,CEcA,IFdK1H,GAAL,GAAWtB,KK4BW,GAAGT,EL5BhC,WK4BsCkB,OAAN,CAAcE,CAAd,CAAgBoI,CAAhB,CAA5B;AHVJhH,AGYI,AL7BP,EEiBGA,QAAQ,AGYAgB,EHZE,IAJH,IGgBW,GAAG,IAAIhC,gBAAJ,CACbgI,CADa,EAEbF,CAFa,EAGb,KAHa,EAIbjD,OAAO,CAACiD,CAAD,CAAP,CAAWE,CAAX,CAJa,EAKbD,qBAAqB,CAACG,QAAtB,CAA+BC,IAA/B,CAAoCJ,qBAApC,CALa,EAMbE,mBAAmB,CAACC,QAApB,CAA6BC,IAA7B,CAAkCF,mBAAlC,CANa,CAAjB;AHXJrD,AGoBImD,EHpBJnD,IGoBImD,GHpBG,EAAE,IALF,YGyBkB,CAACtF,EJ/BpBM,MI+BF,CAA+BI,IAA/B,CAAoCnB,EJ/BpB,QI+BhB;AHnBJ2C,AGoBIsD,AJhCgB,ECYpBtD,IGoBIsD,IJ/BIvF,CCWC,EAAE,EDZS,GACQ,IADR,CACZA,EI+Be,CAACD,EJhCJ,MIgChB,CAA6BU,IAA7B,CAAkCnB,UAAlC;AH1BG,AG2BH4B,AJjCgB,CCfT,KGgDPA,IJhCWnB,EChBhB,GGgDc,CAAC2F,EJjCM,GACQ,IADR,CACL3F,CIgCX,CAAsBT,CLtCrBhB,KCKe,IIiCgB,CAACN,ALtCtBO,SAAS,CKsCpB;AJjCgB,ADJpB,UCMQS,CDNHX,GCIe,GAEH,KAAKyB,IAFF,CAEZd,GDNR,CCIoB,ADJKV,QAAzB,IAAqCC,OAArC;AEoBD,AGkBKzC,AJ/BJ,ADNH,IEmBQqG,MDbC7B,CCaM,GAAG,CACnB,IGiBcnD,UHlBK,AGkBX,CAAiBsD,CHhBzB,GGgBQ,CAAsBnB,AJ/BK,GAAGe,OCanB,AGkBX,EHfR,GDhBkD,CAAChC,UCahC,EAInB,ODjBsC,CAAiC,KAAKyB,CCazD,EAKnB,CDlBuE,CAAUxB,QAA3C,ICanB,ADb0E,CAAzF,CCmBJ,ADtBwB,CAKpB,aCWe,CAAhB;AGmBE;AACJ,AJ9BGyB,GIGe,CA6BnB,EJhCIA,QAAQ,CAACQ,MAAT,CAAgBF,YAAY,CAAC,KAAKP,IAAL,CAAUd,IAAX,CAA5B,EAA8C,CAA9C;0CDPkB;ACSlB,ADRA,UCQIsB,CDRC9B,QAAL,CAAc,KAAd,EAAqB,CAArB,OCQA,EAA+B;AI+BnC,AJ9BQuB,ADRJ,OKsCC,CJ9BGA,GI8BCqF,ALtCA5G,EKsCC,GAAG,AJ9BG,CI8BhB,AJ9BiBgC,EI8BD4E,ALtCZ,CAAc,CKsCD,GAAGtJ,AJ9BZ,CAAiBuE,CDRrB,EAAsB,CAAtB,QKsCsBtE,AJ9BlB,WI8BR,EAAuCqJ,EAAC,EAAxC,EAA4C;AACxC,AJ9BC,ADRJ,OCMG,CIgCMO,KJ9BC,GI8BO,GAAG,IAAIrI,gBAAJ,CAAW,CAAC,CAAZ,EAAe8H,EAAf,EAAkB,IAAlB,CAAjB;AACA,AJ9BIrF,QI8BEF,AJ9BFE,KI8BM,GAAGjE,AJ9BD,CAAC2E,IAAT,CAA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","file":"js.00a46daa.js","sourceRoot":"..\\src","sourcesContent":["let state = {\r\n    rowsAmmount: 3,\r\n    columnsAmmount: 0,\r\n\r\n    centerTolerance: 0.2,\r\n\r\n\r\n    minSpeed: 1,\r\n    maxSpeed: 22,\r\n\r\n\r\n    containerHeight: 0,\r\n    containerWidth: 0,\r\n    containerRatio: 0,\r\n    moduleSize: 0,\r\n    center: {\r\n        X: null,\r\n        Y: null,\r\n    },\r\n    maxPossibleDistance: Infinity,\r\n    shouldAnimate: false,\r\n    force: {},\r\n    prevForce: {},\r\n    modules: {\r\n        x: [],\r\n        y: []\r\n    },\r\n    allModules: []\r\n}\r\n\r\nexport { state };\r\n","import { state } from './state';\r\n\r\nlet hash = 0;\r\nconst getNewHash = () => hash++;\r\n\r\nexport default class module {\r\n    constructor(x, y, isGhost = false, content, getHorizontalSpeed, getVerticalSpeed) {\r\n        let { moduleSize } = state;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.number = getNewHash();\r\n        this.id = `x${this.x}y${this.y}${isGhost ? 'g' : ''}`;\r\n        this.top = y * moduleSize;\r\n        this.left = x * moduleSize;\r\n        this.linkedTo = null;\r\n        this.domElement = this.createDomElement();\r\n        this.setAsGhost(isGhost);\r\n        this.offset = {\r\n            top: 0,\r\n            left: 0,\r\n            null: 0\r\n        }\r\n        this.frameMovementVector = {\r\n            top: 0,\r\n            left: 0\r\n        }\r\n        this.content = content;\r\n        this.getHorizontalSpeed = getHorizontalSpeed;\r\n        this.getVerticalSpeed = getVerticalSpeed;\r\n    }\r\n\r\n    getRight() {\r\n        let { moduleSize } = state;\r\n        return this.left + moduleSize;\r\n    }\r\n\r\n    getBottom() {\r\n        let { moduleSize } = state;\r\n        return this.top + moduleSize;\r\n    }\r\n\r\n    setForce(position, ammount) {\r\n        this.frameMovementVector[position] = ammount;\r\n    }\r\n\r\n    resetMovementVector() {\r\n        this.setForce('top', 0);\r\n        this.setForce('left', 0);\r\n    }\r\n\r\n    applyOffset(position, ammount) {\r\n        const { offset } = this;\r\n\r\n        if (ammount) {\r\n            offset[position] = ammount;\r\n        } else {\r\n            offset[position] = 0;\r\n        }\r\n    }\r\n\r\n    calculateCurrentFrameOffset() {\r\n        const { offset } = this;\r\n        if (offset.top) {\r\n            const { top } = offset;\r\n\r\n            // This is setup for next frame\r\n            // decide wether to move the full ammount, or all that remains, whichever is lower\r\n            const absoluteAmmount = Math.min(Math.abs(top), state.maxSpeed);\r\n            const signedAmmount = absoluteAmmount * Math.sign(top);\r\n\r\n            this.setForce('top', signedAmmount);\r\n\r\n            // Reduce outstanding offset by ammount\r\n            offset.top -= signedAmmount;\r\n        }\r\n        if (offset.left) {\r\n            const { left } = offset;\r\n            const absoluteAmmount = Math.min(Math.abs(left), state.maxSpeed);\r\n            const signedAmmount = absoluteAmmount * Math.sign(left);\r\n\r\n            this.setForce('left', signedAmmount);\r\n            offset.left -= signedAmmount;\r\n        }\r\n    }\r\n\r\n    compileFrameMovementVector() {\r\n        // Make element calculate any outstanding offsets to move\r\n        this.calculateCurrentFrameOffset();\r\n\r\n        // Aka if we are not on nullforce\r\n        if (state.force.axis) {\r\n            const position = state.force.position;\r\n            const forceAmmount = state.force.isVert ? this.getVerticalSpeed() : this.getHorizontalSpeed();\r\n\r\n            this.setForce(position, forceAmmount);\r\n        }\r\n    }\r\n\r\n    setAsGhost(isGhost, linkTo) {\r\n        this.isGhost = isGhost;\r\n        this.linkedTo = isGhost && linkTo ? linkTo : null;\r\n        this.domElement.classList.toggle('ghost', isGhost);\r\n    }\r\n\r\n    createDomElement() {\r\n        let newElement = document.createElement(\"div\");\r\n        newElement.className = \"module\";\r\n        newElement.id = this.id;\r\n        return newElement;\r\n    }\r\n\r\n    getContent() {\r\n        switch (typeof this.content) {\r\n            case 'string':\r\n                return this.getStringContent();\r\n            default:\r\n                return ''\r\n        }\r\n    }\r\n\r\n    getStringContent() {\r\n        const { content } = this;\r\n        return `} #${this.id}:after {content: '${content}'`\r\n    }\r\n\r\n    getStyleString() {\r\n        this.top += this.frameMovementVector.top;\r\n        this.left += this.frameMovementVector.left;\r\n        this.resetMovementVector();\r\n\r\n        return `#${this.id}{ top: ${this.top}px; left:${this.left}px; ${this.getContent()}}`\r\n    }\r\n}\r\n","import { state } from './state';\r\n\r\nexport default class line {\r\n    constructor(data, number) {\r\n        this.data = data;\r\n        this.number = number;\r\n        this.contents = [];\r\n        this.ghost = null;\r\n        this.speed = 0;\r\n    }\r\n\r\n    linkGhostToElement(element) {\r\n        const { ghost } = this;\r\n        ghost.linkedTo = element;\r\n    }\r\n\r\n    setGhostPosition() {\r\n        const { ghost } = this;\r\n        const { linkedTo } = ghost;\r\n\r\n        // Here we calculate the position of the ghost, looks messy but\r\n        //essentially the ghost has to be on the opposite side of the real module\r\n        if (this.data.isVert) {\r\n            const { top, frameMovementVector } = linkedTo;\r\n            const { containerHeight } = state;\r\n\r\n            // We decide if we have to substract or add the height of the container\r\n            // to the top value of the ghost. Use positive as a default for the first frame of animation.\r\n            const operation = (Math.sign(top) * -1) || 1;\r\n\r\n            // And we add however much the real module is going to move this frame.\r\n            const newPosition = top + (containerHeight * operation) + frameMovementVector.top;\r\n            ghost.top = newPosition;\r\n            ghost.left = ghost.linkedTo.left + frameMovementVector.left;\r\n        } else {\r\n            const { left, frameMovementVector } = ghost.linkedTo;\r\n            const { containerWidth } = state;\r\n            let operation = (Math.sign(left) * -1) || 1;\r\n            const newPosition = left + (containerWidth * operation) + frameMovementVector.left;\r\n            ghost.left = newPosition;\r\n            ghost.top = ghost.linkedTo.top + frameMovementVector.top;\r\n\r\n        }\r\n        ghost.content = linkedTo.content;\r\n    }\r\n\r\n    shiftLine(resetElement) {\r\n        const { ghost, contents } = this;\r\n        const { axis } = this.data;\r\n        const isCurrentMovementPositive = resetElement.frameMovementVector[this.data.position] > 0\r\n\r\n        // Remove old element from container since it is now a ghost\r\n        contents.splice(resetElement[this.data.axis], 1);\r\n\r\n        if (isCurrentMovementPositive) {\r\n            contents.unshift(resetElement);\r\n        } else {\r\n            contents.push(resetElement)\r\n        }\r\n\r\n        // Set correct axis number for each module in this line.\r\n        contents.forEach((singleModule, order) => {\r\n            singleModule[axis] = order;\r\n        })\r\n\r\n        resetElement.top = ghost.top;\r\n        resetElement.left = ghost.left;\r\n\r\n        const elementToLink = isCurrentMovementPositive ? this.getLast() : this.getFirst();\r\n        this.linkGhostToElement(elementToLink);\r\n    }\r\n\r\n\r\n    getFirst() {\r\n        return this.contents[0];\r\n    }\r\n\r\n    getLast() {\r\n        return this.contents[this.contents.length - 1];\r\n    }\r\n\r\n    getSpeed() {\r\n        return this.speed;\r\n    }\r\n}\r\n","export const container = document.getElementById('visualContainer');\r\nexport const modulePositions = document.getElementById('modulePositions');\r\nexport const body = document.getElementsByTagName('body')[0];\r\nexport const devModeToggle = document.getElementById('devModeToggle')\r\n\r\nexport const quadrants = {\r\n    bot: 'BOTTOM',\r\n    top: 'TOP',\r\n    left: 'LEFT',\r\n    right: 'RIGHT'\r\n}\r\n\r\nexport const positions = {\r\n    left: 'left',\r\n    top: 'top'\r\n}\r\n\r\nexport const horizontalIdentity = {\r\n    axis: 'x',\r\n    isVert: false,\r\n    position: 'left',\r\n    inverseAxis: 'y'\r\n}\r\n\r\nexport const verticalIdentity = {\r\n    axis: 'y',\r\n    isVert: true,\r\n    position: 'top',\r\n    inverseAxis: 'x'\r\n}\r\n\r\nexport const forces = {\r\n    [quadrants.bot]: {\r\n        quadrantName: quadrants.bot,\r\n        ...verticalIdentity,\r\n        direction: 1\r\n    },\r\n    [quadrants.top]: {\r\n        quadrantName: quadrants.top,\r\n        ...verticalIdentity,\r\n        direction: -1\r\n    },\r\n    [quadrants.left]: {\r\n        quadrantName: quadrants.left,\r\n        ...horizontalIdentity,\r\n        direction: -1\r\n    },\r\n    [quadrants.right]: {\r\n        quadrantName: quadrants.right,\r\n        ...horizontalIdentity,\r\n        direction: 1\r\n    },\r\n    nullForce: {\r\n        quadrantName: 'nullForce',\r\n        axis: null,\r\n        isVert: null,\r\n        position: null,\r\n        inverse: null,\r\n        direction: null\r\n    }\r\n}\r\n\r\nexport const message = [\r\n    'COMING SOON ',\r\n    'COMING SOON ',\r\n    'COMING SOON ',\r\n    'COMING SOON ',\r\n    'COMING SOON ',\r\n    'COMING SOON '\r\n]\r\n","import { state } from './state';\r\nimport { modulePositions } from './const';\r\n\r\nclass cssHandler {\r\n    constructor() {\r\n        this.modulesList = [];\r\n        this.frameCss = '';\r\n    }\r\n\r\n    getModuleCss(moduleCss) {\r\n        this.frameCss += moduleCss;\r\n    }\r\n\r\n    resetFrameCss() {\r\n        this.frameCss = '';\r\n    }\r\n\r\n    applyCssToDom() {\r\n        modulePositions.textContent = this.frameCss;\r\n    }\r\n\r\n    getAllCss() {\r\n        state.allModules.forEach((singleModule) => {\r\n            this.getModuleCss(singleModule.getStyleString());\r\n        });\r\n        this.applyCssToDom();\r\n        this.resetFrameCss();\r\n    }\r\n}\r\n\r\nexport default new cssHandler();\r\n","export const pyth = (a, b) => Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))\r\nexport const distance = (x1, y1, x2, y2) => pyth(x1 - x2, y1 - y2)\r\n\r\n// Pretty much ripped straight from p5's math helper.\r\n// https://github.com/processing/p5.js/blob/1.0.0/src/math/calculation.js\r\n\r\nexport const map = (n, start1, stop1, start2, stop2, withinBounds) => {\r\n    const newval = (n - start1) / (stop1 - start1) * (stop2 - start2) + start2;\r\n\r\n    if (!withinBounds) {\r\n        return newval;\r\n    }\r\n\r\n    if (start2 < stop2) {\r\n        return constrain(newval, start2, stop2);\r\n    } else {\r\n        return constrain(newval, stop2, start2);\r\n    }\r\n};\r\n\r\nexport const constrain = (n, low, high) => Math.max(Math.min(n, high), low);\r\n","import module from './module';\r\nimport line from './line';\r\nimport cssHandler from './cssHandler';\r\nimport * as constants from './const';\r\nimport { state } from './state';\r\nimport { pyth, map, distance } from './mathUtil';\r\n\r\nconst {\r\n    body,\r\n    devModeToggle,\r\n    container,\r\n    quadrants,\r\n    forces,\r\n    horizontalIdentity,\r\n    verticalIdentity,\r\n    message\r\n} = constants;\r\n\r\nfunction setup() {\r\n    state.rowsAmmount = message.length;\r\n    state.columnsAmmount = message.reduce((acc, curr) => Math.max(acc.length || acc, curr.length || curr));\r\n    state.containerHeight = Math.floor(container.offsetHeight / state.rowsAmmount) * state.rowsAmmount;\r\n    state.moduleSize = state.containerHeight / state.rowsAmmount;\r\n    state.containerWidth = state.columnsAmmount * state.moduleSize;\r\n\r\n    state.center.X = state.containerWidth / 2;\r\n    state.center.Y = state.containerHeight / 2;\r\n\r\n    state.maxPossibleDistance = pyth(state.center.X, state.center.Y);\r\n    console.log(state.maxPossibleDistance, 'MAX POSSIBLE DISTANCE');\r\n\r\n    state.containerRatio = state.containerHeight / state.containerWidth;\r\n    container.style.height = `${state.containerHeight}px`;\r\n    container.style.width = `${state.containerWidth}px`;\r\n\r\n    const { moduleSize } = state;\r\n    const baseCss = `\r\n    .module {\r\n        width: ${moduleSize}px;\r\n        height: ${moduleSize}px;\r\n    }\r\n    .module:after {\r\n        font-size: ${moduleSize}px;\r\n    }\r\n    `\r\n    document.getElementById('baseCss').textContent = baseCss;\r\n\r\n    state.force = forces.nullForce;\r\n    state.prevForce = forces.nullForce;\r\n\r\n    prepModules();\r\n    cssHandler.getAllCss();\r\n    setListeners();\r\n}\r\n\r\nfunction prepModules() {\r\n    // Prep regualr modules\r\n    for (let i = 0; i < state.rowsAmmount; i++) {\r\n        const currentHorizontalLine = new line(horizontalIdentity, i);\r\n        state.modules.x.push(currentHorizontalLine);\r\n\r\n        for (let e = 0; e < state.columnsAmmount; e++) {\r\n\r\n            if (i === 0) {\r\n                state.modules.y.push(new line(verticalIdentity, e));\r\n            }\r\n            const currentVerticalLine = state.modules.y[e];\r\n\r\n            let newElement = new module(\r\n                e,\r\n                i,\r\n                false,\r\n                message[i][e],\r\n                currentHorizontalLine.getSpeed.bind(currentHorizontalLine),\r\n                currentVerticalLine.getSpeed.bind(currentVerticalLine)\r\n            );\r\n\r\n            currentHorizontalLine.contents.push(newElement);\r\n            currentVerticalLine.contents.push(newElement);\r\n            container.appendChild(newElement.domElement);\r\n            state.allModules.push(newElement);\r\n        }\r\n    }\r\n\r\n    // Prep ghosts\r\n    for (let i = 0; i < state.rowsAmmount; i++) {\r\n        const newGhost = new module(-1, i, true);\r\n        const line = state.modules.x[i];\r\n        line.ghost = newGhost;\r\n        newGhost.linkedTo = line.contents[0];\r\n        container.appendChild(newGhost.domElement);\r\n        state.allModules.push(newGhost);\r\n    }\r\n    for (let e = 0; e < state.columnsAmmount; e++) {\r\n        const newGhost = new module(e, -1, true);\r\n        const line = state.modules.y[e];\r\n        line.ghost = newGhost;\r\n        newGhost.linkedTo = line.contents[0];\r\n        container.appendChild(newGhost.domElement);\r\n        state.allModules.push(newGhost);\r\n    }\r\n}\r\n\r\nfunction toggleDevMode() {\r\n    body.classList.toggle('devMode', devModeToggle.checked);\r\n}\r\n\r\nfunction setListeners() {\r\n    devModeToggle.addEventListener('click', () => {\r\n        toggleDevMode();\r\n    })\r\n    container.addEventListener('mouseenter', () => {\r\n        state.shouldAnimate = true;\r\n        state.inBounds = true;\r\n    })\r\n    container.addEventListener('mouseleave', () => {\r\n        changeQuadrant(forces.nullForce);\r\n        state.inBounds = false;\r\n    })\r\n    container.addEventListener('mousemove', (event) => {\r\n        const { clientX, clientY } = event;\r\n        if (state.inBounds) {\r\n            calculateQuadrant(clientX, clientY);\r\n            calculateLinesSpeed(clientX, clientY);\r\n        }\r\n    })\r\n}\r\n\r\nfunction changeQuadrant(newQuad) {\r\n    const currentQuad = state.force;\r\n    if (currentQuad.quadrantName !== newQuad.quadrantName) {\r\n        state.prevForce = state.force;\r\n        state.force = newQuad;\r\n        // Dont calc offset on first enter\r\n        if (!(state.prevForce.quadrantName === 'nullForce')) {\r\n            calculateOffset();\r\n        }\r\n    }\r\n}\r\n\r\nfunction calculateLinesSpeed(mouseX, mouseY) {\r\n    const { x: containerX, y: containerY } = container.getBoundingClientRect()\r\n\r\n    const localX = mouseX - containerX;\r\n    const localY = mouseY - containerY;\r\n    const linesToCalc = state.modules[state.force.axis];\r\n    const currentDistanceToCenter = distance(localX, localY, state.center.X, state.center.Y);\r\n    const RatioFixedDistanceToCenter = currentDistanceToCenter * (state.force.isVert ? 1 : state.containerRatio);\r\n    console.log(RatioFixedDistanceToCenter);\r\n    //const minimumDistance = state.maxPossibleDistance * (1 - state.centerTolerance);\r\n\r\n    const distanceToCenterModifier = map(RatioFixedDistanceToCenter, 0, state.maxPossibleDistance, 0, 1, true)\r\n\r\n    linesToCalc.forEach((singleLine) => {\r\n        singleLine.speed = Math.round(state.maxSpeed * distanceToCenterModifier * state.force.direction);\r\n    })\r\n}\r\n\r\nfunction calculateQuadrant(clientX, clientY) {\r\n    let mouseX = (clientX - container.offsetLeft) * state.containerRatio;\r\n    let mouseY = clientY - container.offsetTop;\r\n    if (mouseY > mouseX) {\r\n        if (mouseX > state.containerHeight - mouseY) {\r\n            changeQuadrant(forces[quadrants.bot]);\r\n        } else {\r\n            changeQuadrant(forces[quadrants.left])\r\n        }\r\n    } else {\r\n        if (mouseX < state.containerWidth * state.containerRatio - mouseY) {\r\n            changeQuadrant(forces[quadrants.top])\r\n        } else {\r\n            changeQuadrant(forces[quadrants.right])\r\n        }\r\n    }\r\n}\r\n\r\nfunction animationFrame() {\r\n    if (state.shouldAnimate) {\r\n        setNewPositions(true)\r\n    }\r\n    cssHandler.getAllCss();\r\n    requestAnimationFrame(animationFrame);\r\n}\r\n\r\nfunction setNewPositions() {\r\n    state.allModules.forEach((singleModule) => {\r\n        if (!singleModule.isGhost) setModulePosition(singleModule);\r\n    });\r\n\r\n    state.modules.x.forEach((singleLine) => {\r\n        singleLine.setGhostPosition();\r\n    })\r\n    state.modules.y.forEach((singleLine) => {\r\n        singleLine.setGhostPosition();\r\n    })\r\n}\r\n\r\nfunction setModulePosition(element) {\r\n    const { top, left } = element;\r\n    const bottom = element.getBottom();\r\n    const right = element.getRight();\r\n    const { x, y } = element;\r\n    let outstandingAmmount = 0;\r\n\r\n    element.compileFrameMovementVector();\r\n\r\n    // Bottoms\r\n    if (element.frameMovementVector['top'] > 0) {\r\n        outstandingAmmount = element.frameMovementVector['top'];\r\n        if ((top + outstandingAmmount) >= state.containerHeight) {\r\n            shiftElement(getLine('y', x), element);\r\n        } else if ((bottom + outstandingAmmount) > state.containerHeight) {\r\n            getLine('y', x).linkGhostToElement(element);\r\n        }\r\n    }\r\n\r\n    // Top\r\n    if (element.frameMovementVector['top'] < 0) {\r\n        outstandingAmmount = element.frameMovementVector['top'];\r\n        if ((bottom + outstandingAmmount) <= 0) {\r\n            shiftElement(getLine('y', x), element);\r\n        } else if ((top + outstandingAmmount) < 0) {\r\n            getLine('y', x).linkGhostToElement(element);\r\n        }\r\n    }\r\n\r\n    // Left\r\n    if (element.frameMovementVector['left'] < 0) {\r\n        outstandingAmmount = element.frameMovementVector['left'];\r\n        if ((right + outstandingAmmount) <= 0) {\r\n            shiftElement(getLine('x', y), element);\r\n        } else if ((left + outstandingAmmount) < 0) {\r\n            getLine('x', y).linkGhostToElement(element);\r\n        }\r\n    }\r\n\r\n    // Right\r\n    if (element.frameMovementVector['left'] > 0) {\r\n        outstandingAmmount = element.frameMovementVector['left'];\r\n        if ((left + outstandingAmmount) >= state.containerWidth) {\r\n            shiftElement(getLine('x', y), element);\r\n        } else if ((right + outstandingAmmount) > state.containerWidth) {\r\n            getLine('x', y).linkGhostToElement(element);\r\n        }\r\n    }\r\n}\r\n\r\nfunction getLine(a, b) {\r\n    return state.modules[a][b];\r\n}\r\n\r\nfunction shiftElement(container, shiftedElement) {\r\n    const { ghost, contents, data: { axis, inverseAxis } } = container;\r\n    container.shiftLine(shiftedElement);\r\n\r\n    // Assign to each element of the container its new correct position\r\n    for (let i = 0; i < contents.length; i++) {\r\n        contents[i][axis] = i;\r\n        const inverseContainer = state.modules[inverseAxis][i];\r\n        inverseContainer.contents[ghost[inverseAxis]] = contents[i];\r\n    }\r\n}\r\n\r\nfunction calculateOffset() {\r\n    const axis = state.prevForce.axis;\r\n    const lines = state.modules[axis];\r\n\r\n    for (let e = 0; e < lines.length; e++) {\r\n        const currentLine = lines[e];\r\n        const moduleToCheck = currentLine.ghost;\r\n        const negative = state.prevForce.isVert ? moduleToCheck.top : moduleToCheck.left\r\n        const positive = state.prevForce.isVert ? moduleToCheck.getBottom() : moduleToCheck.getRight();\r\n        const containerSize = state.prevForce.isVert ? state.containerHeight : state.containerWidth;\r\n\r\n        const possibleValues = [\r\n            0 - negative,\r\n            0 - positive,\r\n            containerSize - negative,\r\n            containerSize - positive,\r\n        ]\r\n\r\n        // find smallest absolute size\r\n        const ammount = possibleValues.sort((a, b) => {\r\n            return Math.abs(a) > Math.abs(b) ? 1 : -1\r\n        })[0];\r\n\r\n        if (ammount) {\r\n            for (let i = 0; i < currentLine.contents.length; i++) {\r\n                const singleModule = currentLine.contents[i];\r\n                // Are we on a direction that has offset?\r\n                singleModule.applyOffset(state.force.position, 0)\r\n                singleModule.applyOffset(state.prevForce.position, ammount)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n(() => {\r\n    window.modules = state.modules;\r\n    window.state = state;\r\n    setup();\r\n    toggleDevMode();\r\n    requestAnimationFrame(animationFrame);\r\n})()\r\n\r\n// TODO:\r\n// \r\n// use getBoundingClientRect!!!!!!!!!!!\r\n// Set new \"active column\" var\r\n// general cleanup\r\n// use foreachs whenever possible\r\n//\r\n//\r\n//\r\n//\r\n//\r\n"]}